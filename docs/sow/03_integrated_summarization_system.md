# SOW: 統合要約システム実装

## 1. 作業概要

### 1.1 目的
Zenn記事の取得・要約・レポート生成機能を統合し、エンドツーエンドの処理フローを実装する。

### 1.2 実装対象機能
- 記事取得から要約までの統合処理
- Markdownレポート生成機能
- エラーハンドリングと品質制御

## 2. 実装詳細

### 2.1 統合要約システム（summarizer.py）
- CrawlerとVertexAIClientを統合
- 記事本文の取得・前処理機能
- HTML→テキスト変換
- 並列要約処理の実装
- エラーハンドリング

### 2.2 Markdownレポート生成（renderer.py）
- テンプレートベースのレポート生成
- 記事情報のフォーマット処理
- ファイル保存機能

### 2.3 統合機能テスト
- 各コンポーネントの統合テスト
- エラーケースのテスト
- 性能要件の検証

## 3. 受け入れ基準

### 3.1 機能要件
- [ ] トピック指定で記事取得・要約・レポート生成が完了する
- [ ] HTML記事本文の適切なテキスト変換
- [ ] 要約品質が200-300文字範囲で適切
- [ ] Markdownレポートが要件定義の形式で出力される

### 3.2 非機能要件
- [ ] 10記事処理が60秒以内で完了
- [ ] エラー時の適切な例外処理
- [ ] ログ出力による処理状況の追跡可能

### 3.3 品質要件
- [ ] テストカバレッジ90%以上
- [ ] エラーケースの適切な処理
- [ ] パフォーマンステストの合格

## 4. 技術仕様

### 4.1 新規作成ファイル
- `app/summarizer.py` - 統合要約システム
- `app/renderer.py` - Markdownレポート生成
- `app/utils.py` - 共通ユーティリティ
- `tests/test_summarizer.py` - 統合要約テスト
- `tests/test_renderer.py` - レポート生成テスト

### 4.2 技術制約
- 既存のCrawlerとVertexAIClientの仕様を維持
- vibeloggerを使用したログ出力
- TDD原則に従った実装

## 5. 開発スケジュール

### Phase 1: 統合要約システム実装（0.5日）
- summarizer.py基本実装
- HTML→テキスト変換機能
- 統合テストの実装

### Phase 2: レポート生成システム実装（0.5日）
- renderer.py実装
- Markdownテンプレート作成
- ファイル保存機能

### Phase 3: 品質保証・最適化（0.5日）
- パフォーマンステスト
- エラーハンドリング強化
- ドキュメント更新

## 6. リスク分析

### 6.1 技術リスク
- **HTML解析の複雑性**: BeautifulSoupによる適切なテキスト抽出の実装
- **Vertex AI API制限**: 大量要約時のレート制限対応

### 6.2 対策
- 段階的実装とテスト駆動開発
- モックを活用したテスト実装
- エラーケースの網羅的テスト

## 7. 成果物

- 統合要約システム一式
- Markdownレポート生成機能
- 統合テストスイート
- 性能テスト結果
- 実装ドキュメント（dev_log）